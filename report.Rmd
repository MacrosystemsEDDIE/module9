---
title: "Module 9: Using High-Frequency Data to Manage Water Quality - Student Handout"
output: 
   word_document:
    reference_docx: report-style.docx
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r}
time <- Sys.time()

# Add last update time
app_time <- format(file.info("ui.R")$mtime, "%Y-%m-%d")
app_update_txt <- paste0("This app was last updated on: ", app_time)

# Read in assessment questions
quest <- read.csv("data/student_questions.csv", row.names = 1)

# Load in text
module_text <- read.csv("data/module_text.csv", row.names = 1)

# Make tables
lake_tab <- data.frame("Characteristic" = c(substr(quest["q3a", ], 3, nchar(quest["q3a", ])),substr(quest["q3b", ], 3, nchar(quest["q3b", ])),substr(quest["q3c", ], 3, nchar(quest["q3c", ])),substr(quest["q3d", ], 3, nchar(quest["q3d", ])),substr(quest["q3e", ], 3, nchar(quest["q3e", ])),
                                            substr(quest["q3f", ], 3, nchar(quest["q3f", ]))),
                       "Answer" = rep("",6))


```

![](www/eddie_banner_2020_test.png)

***
### Name: 
### Student ID: 
#### Completed on: 
***

# **Macrosystems EDDIE Module 9: Using High-Frequency Data to Manage Water Quality**

# Focal Question:

_How can we use high-frequency data to improve water quality?_

# Summary: 

In recent decades, there have been substantial improvements in our ability to monitor water quality in real time using sensors that measure variables at a high frequency (every few minutes).

In this module, you will explore data collected using high-frequency sensors and learn how to interpret these data to inform water quality management.

# Learning Objectives:

By the end of this module, you will be able to:

- Define key measures of surface freshwater quality (water temperature, dissolved oxygen, and turbidity).
- Explain how water temperature changes over the course of a year in a temperate reservoir and how these changes affect water quality.
- Interpret high-frequency water quality data to make decisions about water extraction depth for a drinking water reservoir.
- Evaluate water quality data and forecasts to make decisions about drinking water treatment.

## Module overview:

- Introductory presentation on concepts related to assessing water quality and collecting high-frequency water quality data
- Activity A: Access and explore high-frequency water quality data from a drinking water reservoir in southwest Virginia
- Activity B: Use high-frequency water quality data to make water treatment plant operation decisions
- Activity C: Make water treatment decisions using water quality forecasts

## Module materials:

The lesson content is hosted on an interactive R Shiny web application at [https://macrosystemseddie.shinyapps.io/module9/](https://macrosystemseddie.shinyapps.io/module9/)  

This can be accessed via any internet browser and allows you to navigate through the lesson via this app. You will fill in the questions below on this handout as you complete the lesson activities. Some instructors may ask students to enter their answers to module questions using a Canvas quiz. Confirm with your instructor as to how to submit your answers.

## Module workflow:
`r substr(module_text["workflow1", ], 0, nchar(module_text["workflow1", ]))`
`r substr(module_text["workflow2", ], 0, nchar(module_text["workflow2", ]))`
`r substr(module_text["workflow3", ], 0, nchar(module_text["workflow3", ]))`
`r substr(module_text["workflow4", ], 0, nchar(module_text["workflow4", ]))`
`r substr(module_text["workflow5", ], 0, nchar(module_text["workflow5", ]))`
`r substr(module_text["workflow6", ], 0, nchar(module_text["workflow6", ]))`
`r substr(module_text["workflow7", ], 0, nchar(module_text["workflow7", ]))`



\newpage

# **Module Questions**
________________________________________________________________________________

# Introduction

## Think about it!

Answer the following questions:  
  
1. `r substr(quest["q1", ], 4, nchar(quest["q1", ]))` 

    a. `r substr(quest["q1a", ], 4, nchar(quest["q1a", ]))`
    b. `r substr(quest["q1b", ], 4, nchar(quest["q1b", ]))`
    c. `r substr(quest["q1c", ], 4, nchar(quest["q1c", ]))`
    d. `r substr(quest["q1d", ], 4, nchar(quest["q1d", ]))`
    e. `r substr(quest["q1e", ], 4, nchar(quest["q1e", ]))` 

2. `r substr(quest["q2", ], 4, nchar(quest["q2", ]))`  

    a. `r substr(quest["q2a", ], 4, nchar(quest["q2a", ]))`
    b. `r substr(quest["q2b", ], 4, nchar(quest["q2b", ]))`
    c. `r substr(quest["q2c", ], 4, nchar(quest["q2c", ]))`


# Activity A - Build A Model and Generate A Forecast

`r module_text["act_A", ]`

***
## Objective 1: Learn about your focal drinking water reservoir

***

Be sure you have answered questions 1 and 2 in the previous Introduction section before you begin Activity A!

3. `r substr(quest["q3", ], 4, nchar(quest["q3", ]))` 

    **Answer:** 
    
4. `r substr(quest["q4", ], 4, nchar(quest["q4", ]))`  

    **Answer:** 
    
5. `r substr(quest["q5", ], 4, nchar(quest["q5", ]))`

      a.  `r substr(quest["q5a", ], 4, nchar(quest["q5a", ]))`
      b.  `r substr(quest["q5b", ], 4, nchar(quest["q5b", ]))`
      c.  `r substr(quest["q5c", ], 4, nchar(quest["q5c", ]))`
      d.  `r substr(quest["q5d", ], 4, nchar(quest["q5d", ]))`

6. `r substr(quest["q6", ], 4, nchar(quest["q6", ]))` 

    **Answer:** 
    
7. `r substr(quest["q7", ], 4, nchar(quest["q7", ]))`  

    **Answer:** 
   
Virginia's Water Quality Assessment Guidance Manual gives the following guidance on water quality evaluation using a trophic state index (TSI), which may be calculated from Secchi depth (SD), chlorophyll-a (CA), or total phosphorus (TP):

*A trophic state index value of 60 or greater for any one of the 3 indices will indicate that nutrient enrichment from anthropogenic sources are adversely interfering, directly or indirectly, with the designated uses. A TSI value of 60 corresponds to a CA concentration of 20 ug/l, a SD of 1 meter, and a TP concentration of 48 ug/l.*

8. `r substr(quest["q8", ], 4, nchar(quest["q8", ]))`  

    **Answer:** 

   
<br>

***
## Objective 2: Explore high-frequency water quality data from your chosen reservoir

***

<br>
### Water temperature
<br>

9. `r substr(quest["q9", ], 4, nchar(quest["q9", ]))`  

    **Answer:** 

10. `r substr(quest["q10", ], 5, nchar(quest["q10", ]))`

      a.  `r substr(quest["q10a", ], 3, nchar(quest["q10a", ]))`
      b.  `r substr(quest["q10b", ], 3, nchar(quest["q10b", ]))`
      c.  `r substr(quest["q10c", ], 3, nchar(quest["q10c", ]))`
      d.  `r substr(quest["q10d", ], 3, nchar(quest["q10d", ]))`

11. `r substr(quest["q11", ], 5, nchar(quest["q11", ]))`    

     **Answer:**
     
12. `r substr(quest["q12", ], 5, nchar(quest["q12", ]))`    

     **Answer:**

13. `r substr(quest["q13", ], 5, nchar(quest["q13", ]))`    

     **Answer:**

<br>
### Dissolved oxygen
<br>

14. `r substr(quest["q14", ], 5, nchar(quest["q14", ]))`

      a.  `r substr(quest["q14a", ], 3, nchar(quest["q14a", ]))`
      b.  `r substr(quest["q14b", ], 3, nchar(quest["q14b", ]))`
      c.  `r substr(quest["q14c", ], 3, nchar(quest["q14c", ]))`
      d.  `r substr(quest["q14d", ], 3, nchar(quest["q14d", ]))`
      
15. `r substr(quest["q15", ], 5, nchar(quest["q15", ]))`

      a.  `r substr(quest["q15a", ], 3, nchar(quest["q15a", ]))`
      b.  `r substr(quest["q15b", ], 3, nchar(quest["q15b", ]))`
      c.  `r substr(quest["q15c", ], 3, nchar(quest["q15c", ]))`
      d.  `r substr(quest["q15d", ], 3, nchar(quest["q15d", ]))`

16. `r substr(quest["q16", ], 5, nchar(quest["q16", ]))`    

     **Answer:**
     
17. `r substr(quest["q17", ], 5, nchar(quest["q17", ]))`    

     **Answer:**

18. `r substr(quest["q18", ], 5, nchar(quest["q18", ]))`    

     **Answer:**

19. `r substr(quest["q19", ], 5, nchar(quest["q19", ]))`    

     **Answer:**
     
20. `r substr(quest["q20", ], 5, nchar(quest["q20", ]))`    

     **Answer:**

<br>
### Turbidity
<br>

21. `r substr(quest["q21", ], 5, nchar(quest["q21", ]))`

      a.  `r substr(quest["q21a", ], 3, nchar(quest["q21a", ]))`
      b.  `r substr(quest["q21b", ], 3, nchar(quest["q21b", ]))`
      c.  `r substr(quest["q21c", ], 3, nchar(quest["q21c", ]))`
      d.  `r substr(quest["q21d", ], 3, nchar(quest["q21d", ]))`
      
22. `r substr(quest["q22", ], 5, nchar(quest["q22", ]))`    

     **Answer:**

23. `r substr(quest["q23", ], 5, nchar(quest["q23", ]))`    

     **Answer:**
     
24. `r substr(quest["q24", ], 5, nchar(quest["q24", ]))`    

     **Answer:**

<br>

***
## Objective 3: Use high-frequency water quality data to make water withdrawal depth decisions at different times of year

***

6. `r substr(quest["q6", ], 4, nchar(quest["q6", ]))`  

    **Answer:** 

7. `r substr(quest["q7", ], 4, nchar(quest["q7", ]))`

      a.  `r substr(quest["q7a", ], 3, nchar(quest["q7a", ]))` 

           *Please copy-paste your Q7a-plot.png image here.*

           *Figure 2. Time series of lagged chlorophyll-a data for your selected NEON lake.*

      b.  `r substr(quest["q7b", ], 3, nchar(quest["q7b", ]))` 

           **Answer:**   
           

8. `r substr(quest["q8", ], 4, nchar(quest["q8", ]))`

      a.  `r substr(quest["q8a", ], 3, nchar(quest["q8a", ]))` 

           *Please copy-paste your Q8a-plot.png image here.*

           *Figure 3. Scatterplot of chlorophyll-a data vs. lagged chlorophyll-a data for your selected NEON lake.*

      b.  `r substr(quest["q8b", ], 3, nchar(quest["q8b", ]))` 

           **Answer:**   
           

9. `r substr(quest["q9", ], 4, nchar(quest["q9", ]))`  

    **Answer:** 

10. `r substr(quest["q10", ], 5, nchar(quest["q10", ]))`

      a.  `r substr(quest["q10a", ], 3, nchar(quest["q10a", ]))` 

           *Please copy-paste your Q10a-plot.png image here.*

           *Figure 4. Autocorrelation of lagged chlorophyll-a at your lake site.*

      b.  `r substr(quest["q10b", ], 3, nchar(quest["q10b", ]))` 

           **Answer:**   
           

11. `r substr(quest["q11", ], 5, nchar(quest["q11", ]))`    

     **Answer:**

12. `r substr(quest["q12", ], 5, nchar(quest["q12", ]))`

      a.  `r substr(quest["q12a", ], 3, nchar(quest["q12a", ]))` 

           *Please copy-paste your Q12a-plot.png image here.*

           *Figure 5. Partial autocorrelation of chlorophyll-a at your lake site.*

      b.  `r substr(quest["q12b", ], 3, nchar(quest["q12b", ]))` 

           **Answer:**   
           
           
13. `r substr(quest["q13", ], 5, nchar(quest["q13", ]))`    

     **Answer:**
     
14. `r substr(quest["q14", ], 5, nchar(quest["q14", ]))`    

     **Answer:**

15. `r substr(quest["q15", ], 5, nchar(quest["q15", ]))`

      a.  `r substr(quest["q15a", ], 3, nchar(quest["q15a", ]))` 

           *Please copy-paste your Q15a-plot.png image here.*

           *Figure 6. Autoregressive model predictions and chlorophyll-a observations at your lake site.*

      b.  `r substr(quest["q15b", ], 3, nchar(quest["q15b", ]))` 

           **Answer:**  
           
           
16. `r substr(quest["q16", ], 5, nchar(quest["q16", ]))`    

     **Answer:**
     
17. `r substr(quest["q17", ], 5, nchar(quest["q17", ]))`    

     **Answer:**    
     
<br>

## Objective 4: Generate forecast

***
`r module_text["obj_04", ]`

***

18. `r substr(quest["q18", ], 5, nchar(quest["q18", ]))`    

     **Answer:**
     
19. `r substr(quest["q19", ], 5, nchar(quest["q19", ]))`    

     **Answer:**    
     
20. `r substr(quest["q20", ], 5, nchar(quest["q20", ]))`    

     **Answer:**
          
21. `r substr(quest["q21", ], 5, nchar(quest["q21", ]))`

      a.  `r substr(quest["q21a", ], 3, nchar(quest["q21a", ]))` 

           *Please copy-paste your Q21a-plot.png image here.*

           *Figure 7. High-frequency chlorophyll-a data at your lake site.*

      b.  `r substr(quest["q21b", ], 3, nchar(quest["q21b", ]))` 

           **Answer:**  
           
           
22. `r substr(quest["q22", ], 5, nchar(quest["q22", ]))`    

     **Answer:**
          
23. `r substr(quest["q23", ], 5, nchar(quest["q23", ]))`

      a.  `r substr(quest["q23a", ], 3, nchar(quest["q23a", ]))` 

           *Please copy-paste your Q23a-plot.png image here.*

           *Figure 8. A one-day-ahead forecast of chlorophyll-a at your lake site.*

      b.  `r substr(quest["q23b", ], 3, nchar(quest["q23b", ]))` 

           **Answer:**  
           
      c.  `r substr(quest["q23c", ], 3, nchar(quest["q23c", ]))` 

           **Answer:**  
           
      d.  `r substr(quest["q23d", ], 3, nchar(quest["q23d", ]))` 

           **Answer:**  
           
        
\newpage

# Activity B - Explore Data Assimilation

`r module_text["act_B", ]`

## Objective 5: Assimilate data

***
`r module_text["obj_05", ]`

***

24. `r substr(quest["q24", ], 5, nchar(quest["q24", ]))`    

     **Answer:**
     
25. `r substr(quest["q25", ], 5, nchar(quest["q25", ]))`

      a.  `r substr(quest["q25a", ], 3, nchar(quest["q25a", ]))` 

           *Please copy-paste your Q25a-plot.png image here.*

           *Figure 9. One-day-ahead forecast with updated initial condition using newly observed chlorophyll-a data.*

      b.  `r substr(quest["q25b", ], 3, nchar(quest["q25b", ]))` 

           **Answer:**  
           
    
26. `r substr(quest["q26", ], 5, nchar(quest["q26", ]))`

      a.  `r substr(quest["q26a", ], 3, nchar(quest["q26a", ]))` 

           *Please copy-paste your Q26a-plot.png image here.*

           *Figure 10. One-day-ahead forecast with updated initial condition when chlorophyll-a data are missing.*

      b.  `r substr(quest["q26b", ], 3, nchar(quest["q26b", ]))` 

           **Answer:**  
           
           
27. `r substr(quest["q27", ], 5, nchar(quest["q27", ]))`

      a.  `r substr(quest["q27a", ], 3, nchar(quest["q27a", ]))` 

           *Please copy-paste your Q27a-plot.png image here.*

           *Figure 11. Two-forecast plot with data assimilation.*

      b.  `r substr(quest["q27b", ], 3, nchar(quest["q27b", ]))` 

           *Please copy-paste your Q27b-plot.png image here.*

           *Figure 12. Two-forecast plot without data assimilation.*

      c.  `r substr(quest["q27c", ], 3, nchar(quest["q27c", ]))` 

           **Answer:**  
           

<br>

## Objective 6: Explore observation uncertainty

***
`r module_text["obj_06", ]`

***

28. `r substr(quest["q28", ], 5, nchar(quest["q28", ]))`    

     **Answer:**
     
29. `r substr(quest["q29", ], 5, nchar(quest["q29", ]))`

      a.  `r substr(quest["q29a", ], 3, nchar(quest["q29a", ]))` 

           *Please copy-paste your Q29a-plot.png image here.*

           *Figure 13. Plot of forecasts assimilating data with low observation uncertainty.*

      b.  `r substr(quest["q29b", ], 3, nchar(quest["q29b", ]))` 

           **Answer:** 

      c.  `r substr(quest["q29c", ], 3, nchar(quest["q29c", ]))` 

           **Answer:**  
           

30. `r substr(quest["q30", ], 5, nchar(quest["q30", ]))`    

     **Answer:**
     
31. `r substr(quest["q31", ], 5, nchar(quest["q31", ]))`

      a.  `r substr(quest["q31a", ], 3, nchar(quest["q31a", ]))` 

           *Please copy-paste your Q31a-plot.png image here.*

           *Figure 14. Plot of forecasts assimilating data with high observation uncertainty.*

      b.  `r substr(quest["q31b", ], 3, nchar(quest["q31b", ]))` 

           **Answer:** 

      c.  `r substr(quest["q31c", ], 3, nchar(quest["q31c", ]))` 

           **Answer:**  
           

<br>

## Objective 7: Explore data assimilation frequency

***
`r module_text["obj_07", ]`

***

32. `r substr(quest["q32", ], 5, nchar(quest["q32", ]))`    

     **Answer:**
     
33. `r substr(quest["q33", ], 5, nchar(quest["q33", ]))`

      a.  `r substr(quest["q33a", ], 3, nchar(quest["q33a", ]))` 

           *Please copy-paste your Q33a-plot.png image here.*

           *Figure 15. A series of one-day-ahead forecasts with no data assimilation.*

      b.  `r substr(quest["q33b", ], 3, nchar(quest["q33b", ]))` 

           **Answer:** 

      c.  `r substr(quest["q33c", ], 3, nchar(quest["q33c", ]))` 

           **Answer:**  
           

34. `r substr(quest["q34", ], 5, nchar(quest["q34", ]))`

      a.  `r substr(quest["q34a", ], 3, nchar(quest["q34a", ]))` 

           **Answer:**

      b.  `r substr(quest["q34b", ], 3, nchar(quest["q34b", ]))` 

           **Answer:** 


35. `r substr(quest["q35", ], 5, nchar(quest["q35", ]))`

      a.  `r substr(quest["q35a", ], 3, nchar(quest["q35a", ]))` 

           *Please copy-paste your Q35a-plot.png image here.*

           *Figure 16. A series of one-day-ahead forecasts with weekly data assimilation.*

      b.  `r substr(quest["q35b", ], 3, nchar(quest["q35b", ]))` 

           **Answer:** 

      c.  `r substr(quest["q35c", ], 3, nchar(quest["q35c", ]))` 

           **Answer:**  
           

36. `r substr(quest["q36", ], 5, nchar(quest["q36", ]))`

      a.  `r substr(quest["q36a", ], 3, nchar(quest["q36a", ]))` 

           **Answer:**

      b.  `r substr(quest["q36b", ], 3, nchar(quest["q36b", ]))` 

           **Answer:** 


37. `r substr(quest["q37", ], 5, nchar(quest["q37", ]))`

      a.  `r substr(quest["q37a", ], 3, nchar(quest["q37a", ]))` 

           *Please copy-paste your Q37a-plot.png image here.*

           *Figure 17. A series of one-day-ahead forecasts with daily data assimilation.*

      b.  `r substr(quest["q37b", ], 3, nchar(quest["q37b", ]))` 

           **Answer:** 

      c.  `r substr(quest["q37c", ], 3, nchar(quest["q37c", ]))` 

           **Answer:**  
           

38. `r substr(quest["q38", ], 5, nchar(quest["q38", ]))`

      a.  `r substr(quest["q38a", ], 3, nchar(quest["q38a", ]))` 

           **Answer:**

      b.  `r substr(quest["q38b", ], 3, nchar(quest["q38b", ]))` 

           **Answer:** 
           
           
39. `r substr(quest["q39", ], 5, nchar(quest["q39", ]))`    

     **Answer:**
     
\newpage 

# Activity C - Management Scenario

`r module_text["act_C", ]`

## Objective 8: Management scenario

***
`r module_text["obj_08", ]`

***

40. `r substr(quest["q40", ], 5, nchar(quest["q40", ]))`    

     **Answer:**
    
41. `r substr(quest["q41", ], 5, nchar(quest["q41", ]))`

      a.  `r substr(quest["q41a", ], 3, nchar(quest["q41a", ]))` 

           *Please copy-paste your Q41a-plot.png image here.*

           *Figure 18. A series of one-day-ahead forecasts generated using the current forecasting system and data collection method.*

      b.  `r substr(quest["q41b", ], 3, nchar(quest["q41b", ]))` 

           **Answer:** 


42. `r substr(quest["q42", ], 5, nchar(quest["q42", ]))`

      a.  `r substr(quest["q42a", ], 3, nchar(quest["q42a", ]))` 

           *Please copy-paste your Q42a-plot.png image here.*

           *Figure 19. A series of one-day-ahead forecasts generated using the borrowed high-frequency sensor.*

      b.  `r substr(quest["q42b", ], 3, nchar(quest["q42b", ]))` 

           **Answer:** 


43. `r substr(quest["q43", ], 5, nchar(quest["q43", ]))`

      a.  `r substr(quest["q43a", ], 3, nchar(quest["q43a", ]))` 

           *Please copy-paste your Q43a-plot.png image here.*

           *Figure 20. A series of one-day-ahead forecasts generated using the current forecasting system and data collection method and showing the observation for Saturday, Oct. 11.*

      b.  `r substr(quest["q43b", ], 3, nchar(quest["q43b", ]))` 

           *Please copy-paste your Q43b-plot.png image here.*

           *Figure 21. A series of one-day-ahead forecasts generated using the borrowed high-frequency sensor and showing the observation for Saturday, Oct. 11.*

      c.  `r substr(quest["q43c", ], 3, nchar(quest["q43c", ]))` 

           **Answer:** 

      d.  `r substr(quest["q43d", ], 3, nchar(quest["q43d", ]))` 

           **Answer:** 


44. `r substr(quest["q44", ], 5, nchar(quest["q44", ]))`    

     **Answer:**
  
45. `r substr(quest["q45", ], 5, nchar(quest["q45", ]))`

      a.  `r substr(quest["q45a", ], 3, nchar(quest["q45a", ]))` 

           **Answer:**

      b.  `r substr(quest["q45b", ], 3, nchar(quest["q45b", ]))` 

           **Answer:** 
           
    
<br>

*`r module_text["acknowledgement", ]`*
*`r app_update_txt`*